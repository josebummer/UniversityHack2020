
--------------------OVA: AGRICULTURE vs All------------------
Performing model optimizations...

Estimator: Random Forest
Best params: {'clf__n_estimators': 100, 'clf__min_samples_split': 8, 'clf__min_samples_leaf': 1, 'clf__max_depth': None, 'clf__criterion': 'entropy'}
Best training f1: 0.498
Test set metrics for best params:
Normal clasification:
              precision    recall  f1-score   support

          -1       1.00      1.00      1.00     20577
           1       0.89      0.49      0.64        69

    accuracy                           1.00     20646
   macro avg       0.95      0.75      0.82     20646
weighted avg       1.00      1.00      1.00     20646

Weighted clasification:
              precision    recall  f1-score   support

          -1       1.00      1.00      1.00 458097.5284404593
           1       0.71      0.49      0.58 446.02973195614675

    accuracy                           1.00 458543.5581724154
   macro avg       0.86      0.75      0.79 458543.5581724154
weighted avg       1.00      1.00      1.00 458543.5581724154


Estimator: Random Forest w/ENN
Best params: {'clf__n_estimators': 1200, 'clf__min_samples_split': 5, 'clf__min_samples_leaf': 3, 'clf__max_depth': None, 'clf__criterion': 'gini'}
Best training f1: 0.508
Test set metrics for best params:
Normal clasification:
              precision    recall  f1-score   support

          -1       1.00      1.00      1.00     20577
           1       0.73      0.55      0.63        69

    accuracy                           1.00     20646
   macro avg       0.86      0.78      0.81     20646
weighted avg       1.00      1.00      1.00     20646

Weighted clasification:
              precision    recall  f1-score   support

          -1       1.00      1.00      1.00 458097.5284404593
           1       0.44      0.55      0.49 446.02973195614675

    accuracy                           1.00 458543.5581724154
   macro avg       0.72      0.78      0.74 458543.5581724154
weighted avg       1.00      1.00      1.00 458543.5581724154


Estimator: KNN
Best params: {'clf__weights': 'uniform', 'clf__n_neighbors': 3, 'clf__metric': 'manhattan'}
Best training f1: 0.483
Test set metrics for best params:
Normal clasification:
              precision    recall  f1-score   support

          -1       1.00      1.00      1.00     20577
           1       0.66      0.55      0.60        69

    accuracy                           1.00     20646
   macro avg       0.83      0.77      0.80     20646
weighted avg       1.00      1.00      1.00     20646

Weighted clasification:
              precision    recall  f1-score   support

          -1       1.00      1.00      1.00 458097.5284404593
           1       0.36      0.55      0.43 446.02973195614675

    accuracy                           1.00 458543.5581724154
   macro avg       0.68      0.77      0.72 458543.5581724154
weighted avg       1.00      1.00      1.00 458543.5581724154


Estimator: KNN w/ENN
Best params: {'clf__weights': 'distance', 'clf__n_neighbors': 5, 'clf__metric': 'manhattan'}
Best training f1: 0.465
Test set metrics for best params:
Normal clasification:
              precision    recall  f1-score   support

          -1       1.00      1.00      1.00     20577
           1       0.69      0.65      0.67        69

    accuracy                           1.00     20646
   macro avg       0.85      0.83      0.84     20646
weighted avg       1.00      1.00      1.00     20646

Weighted clasification:
              precision    recall  f1-score   support

          -1       1.00      1.00      1.00 458097.5284404593
           1       0.40      0.65      0.49 446.02973195614675

    accuracy                           1.00 458543.5581724154
   macro avg       0.70      0.83      0.75 458543.5581724154
weighted avg       1.00      1.00      1.00 458543.5581724154


Estimator: XGB
Best params: {'clf__n_estimators': 600, 'clf__max_depth': 8, 'clf__learning_rate': 0.1}
Best training f1: 0.545
Test set metrics for best params:
Normal clasification:
              precision    recall  f1-score   support

          -1       1.00      1.00      1.00     20577
           1       0.76      0.57      0.65        69

    accuracy                           1.00     20646
   macro avg       0.88      0.78      0.82     20646
weighted avg       1.00      1.00      1.00     20646

Weighted clasification:
              precision    recall  f1-score   support

          -1       1.00      1.00      1.00 458097.5284404593
           1       0.49      0.57      0.52 446.02973195614675

    accuracy                           1.00 458543.5581724154
   macro avg       0.74      0.78      0.76 458543.5581724154
weighted avg       1.00      1.00      1.00 458543.5581724154


Estimator: XGB w/ENN
Best params: {'clf__n_estimators': 1200, 'clf__max_depth': 6, 'clf__learning_rate': 0.1}
Best training f1: 0.519
Test set metrics for best params:
Normal clasification:
              precision    recall  f1-score   support

          -1       1.00      1.00      1.00     20577
           1       0.71      0.68      0.70        69

    accuracy                           1.00     20646
   macro avg       0.86      0.84      0.85     20646
weighted avg       1.00      1.00      1.00     20646

Weighted clasification:
              precision    recall  f1-score   support

          -1       1.00      1.00      1.00 458097.5284404593
           1       0.42      0.68      0.52 446.02973195614675

    accuracy                           1.00 458543.5581724154
   macro avg       0.71      0.84      0.76 458543.5581724154
weighted avg       1.00      1.00      1.00 458543.5581724154


Classifier with best test set f1: Random Forest

Saved Random Forest grid search pipeline to file: ./models_w_dn_factor/AGRICULTURE_best_gs_pipeline.pkl

--------------------OVA: INDUSTRIAL vs All------------------
Performing model optimizations...

Estimator: Random Forest
Best params: {'clf__n_estimators': 100, 'clf__min_samples_split': 2, 'clf__min_samples_leaf': 1, 'clf__max_depth': None, 'clf__criterion': 'entropy'}
Best training f1: 0.512
Test set metrics for best params:
Normal clasification:
              precision    recall  f1-score   support

          -1       0.98      0.99      0.99     19726
           1       0.81      0.58      0.68       920

    accuracy                           0.98     20646
   macro avg       0.90      0.79      0.83     20646
weighted avg       0.97      0.98      0.97     20646

Weighted clasification:
              precision    recall  f1-score   support

          -1       1.00      0.99      0.99 472029.16860499367
           1       0.47      0.58      0.52 4413.708937970392

    accuracy                           0.99 476442.87754296407
   macro avg       0.73      0.79      0.76 476442.87754296407
weighted avg       0.99      0.99      0.99 476442.87754296407


Estimator: Random Forest w/ENN
Best params: {'clf__n_estimators': 100, 'clf__min_samples_split': 8, 'clf__min_samples_leaf': 5, 'clf__max_depth': None, 'clf__criterion': 'gini'}
Best training f1: 0.472
Test set metrics for best params:
Normal clasification:
              precision    recall  f1-score   support

          -1       0.98      0.99      0.99     19726
           1       0.79      0.52      0.62       920

    accuracy                           0.97     20646
   macro avg       0.88      0.76      0.81     20646
weighted avg       0.97      0.97      0.97     20646

Weighted clasification:
              precision    recall  f1-score   support

          -1       1.00      0.99      0.99 472029.16860499367
           1       0.43      0.52      0.47 4413.708937970392

    accuracy                           0.99 476442.87754296407
   macro avg       0.71      0.76      0.73 476442.87754296407
weighted avg       0.99      0.99      0.99 476442.87754296407


Estimator: KNN
Best params: {'clf__weights': 'distance', 'clf__n_neighbors': 11, 'clf__metric': 'manhattan'}
Best training f1: 0.472
Test set metrics for best params:
Normal clasification:
              precision    recall  f1-score   support

          -1       0.98      0.99      0.99     19726
           1       0.81      0.53      0.64       920

    accuracy                           0.97     20646
   macro avg       0.89      0.76      0.81     20646
weighted avg       0.97      0.97      0.97     20646

Weighted clasification:
              precision    recall  f1-score   support

          -1       1.00      0.99      0.99 472029.16860499367
           1       0.46      0.53      0.49 4413.708937970392

    accuracy                           0.99 476442.87754296407
   macro avg       0.73      0.76      0.74 476442.87754296407
weighted avg       0.99      0.99      0.99 476442.87754296407


Estimator: KNN w/ENN
Best params: {'clf__weights': 'distance', 'clf__n_neighbors': 11, 'clf__metric': 'manhattan'}
Best training f1: 0.412
Test set metrics for best params:
Normal clasification:
              precision    recall  f1-score   support

          -1       0.98      0.99      0.99     19726
           1       0.73      0.59      0.65       920

    accuracy                           0.97     20646
   macro avg       0.85      0.79      0.82     20646
weighted avg       0.97      0.97      0.97     20646

Weighted clasification:
              precision    recall  f1-score   support

          -1       1.00      0.99      0.99 472029.16860499367
           1       0.35      0.59      0.44 4413.708937970392

    accuracy                           0.99 476442.87754296407
   macro avg       0.67      0.79      0.72 476442.87754296407
weighted avg       0.99      0.99      0.99 476442.87754296407


Estimator: XGB
Best params: {'clf__n_estimators': 400, 'clf__max_depth': 12, 'clf__learning_rate': 0.3}
Best training f1: 0.500
Test set metrics for best params:
Normal clasification:
              precision    recall  f1-score   support

          -1       0.98      0.99      0.99     19726
           1       0.81      0.61      0.69       920

    accuracy                           0.98     20646
   macro avg       0.90      0.80      0.84     20646
weighted avg       0.97      0.98      0.97     20646

Weighted clasification:
              precision    recall  f1-score   support

          -1       1.00      0.99      0.99 472029.16860499367
           1       0.46      0.61      0.53 4413.708937970392

    accuracy                           0.99 476442.87754296407
   macro avg       0.73      0.80      0.76 476442.87754296407
weighted avg       0.99      0.99      0.99 476442.87754296407


Estimator: XGB w/ENN
Best params: {'clf__n_estimators': 400, 'clf__max_depth': 8, 'clf__learning_rate': 0.15}
Best training f1: 0.432
Test set metrics for best params:
Normal clasification:
              precision    recall  f1-score   support

          -1       0.99      0.99      0.99     19726
           1       0.71      0.69      0.70       920

    accuracy                           0.97     20646
   macro avg       0.85      0.84      0.84     20646
weighted avg       0.97      0.97      0.97     20646

Weighted clasification:
              precision    recall  f1-score   support

          -1       1.00      0.99      0.99 472029.16860499367
           1       0.33      0.69      0.45 4413.708937970392

    accuracy                           0.98 476442.87754296407
   macro avg       0.66      0.84      0.72 476442.87754296407
weighted avg       0.99      0.98      0.99 476442.87754296407


Classifier with best test set f1: XGB

Saved XGB grid search pipeline to file: ./models_w_dn_factor/INDUSTRIAL_best_gs_pipeline.pkl

--------------------OVA: OFFICE vs All------------------
Performing model optimizations...

Estimator: Random Forest
Best params: {'clf__n_estimators': 400, 'clf__min_samples_split': 2, 'clf__min_samples_leaf': 1, 'clf__max_depth': None, 'clf__criterion': 'entropy'}
Best training f1: 0.118
Test set metrics for best params:
Normal clasification:
              precision    recall  f1-score   support

          -1       0.98      1.00      0.99     20299
           1       0.57      0.08      0.15       347

    accuracy                           0.98     20646
   macro avg       0.78      0.54      0.57     20646
weighted avg       0.98      0.98      0.98     20646

Weighted clasification:
              precision    recall  f1-score   support

          -1       1.00      1.00      1.00 487598.5450675699
           1       0.21      0.08      0.12 1632.9762262448069

    accuracy                           1.00 489231.5212938147
   macro avg       0.60      0.54      0.56 489231.5212938147
weighted avg       0.99      1.00      0.99 489231.5212938147


Estimator: Random Forest w/ENN
Best params: {'clf__n_estimators': 100, 'clf__min_samples_split': 2, 'clf__min_samples_leaf': 1, 'clf__max_depth': None, 'clf__criterion': 'entropy'}
Best training f1: 0.146
Test set metrics for best params:
Normal clasification:
              precision    recall  f1-score   support

          -1       0.99      0.99      0.99     20299
           1       0.39      0.18      0.25       347

    accuracy                           0.98     20646
   macro avg       0.69      0.59      0.62     20646
weighted avg       0.98      0.98      0.98     20646

Weighted clasification:
              precision    recall  f1-score   support

          -1       1.00      0.99      1.00 487598.5450675699
           1       0.11      0.18      0.14 1632.9762262448069

    accuracy                           0.99 489231.5212938147
   macro avg       0.55      0.59      0.57 489231.5212938147
weighted avg       0.99      0.99      0.99 489231.5212938147


Estimator: KNN
Best params: {'clf__weights': 'distance', 'clf__n_neighbors': 3, 'clf__metric': 'manhattan'}
Best training f1: 0.123
Test set metrics for best params:
Normal clasification:
              precision    recall  f1-score   support

          -1       0.99      1.00      0.99     20299
           1       0.37      0.16      0.23       347

    accuracy                           0.98     20646
   macro avg       0.68      0.58      0.61     20646
weighted avg       0.98      0.98      0.98     20646

Weighted clasification:
              precision    recall  f1-score   support

          -1       1.00      1.00      1.00 487598.5450675699
           1       0.10      0.16      0.13 1632.9762262448069

    accuracy                           0.99 489231.5212938147
   macro avg       0.55      0.58      0.56 489231.5212938147
weighted avg       0.99      0.99      0.99 489231.5212938147


Estimator: KNN w/ENN
Best params: {'clf__weights': 'distance', 'clf__n_neighbors': 11, 'clf__metric': 'manhattan'}
Best training f1: 0.129
Test set metrics for best params:
Normal clasification:
              precision    recall  f1-score   support

          -1       0.99      1.00      0.99     20299
           1       0.36      0.14      0.20       347

    accuracy                           0.98     20646
   macro avg       0.67      0.57      0.59     20646
weighted avg       0.97      0.98      0.98     20646

Weighted clasification:
              precision    recall  f1-score   support

          -1       1.00      1.00      1.00 487598.5450675699
           1       0.10      0.14      0.11 1632.976226244807

    accuracy                           0.99 489231.5212938147
   macro avg       0.55      0.57      0.56 489231.5212938147
weighted avg       0.99      0.99      0.99 489231.5212938147


Estimator: XGB
Best params: {'clf__n_estimators': 900, 'clf__max_depth': 12, 'clf__learning_rate': 0.3}
Best training f1: 0.139
Test set metrics for best params:
Normal clasification:
              precision    recall  f1-score   support

          -1       0.99      1.00      0.99     20299
           1       0.45      0.13      0.20       347

    accuracy                           0.98     20646
   macro avg       0.72      0.56      0.60     20646
weighted avg       0.98      0.98      0.98     20646

Weighted clasification:
              precision    recall  f1-score   support

          -1       1.00      1.00      1.00 487598.5450675699
           1       0.14      0.13      0.13 1632.9762262448069

    accuracy                           0.99 489231.5212938147
   macro avg       0.57      0.56      0.57 489231.5212938147
weighted avg       0.99      0.99      0.99 489231.5212938147


Estimator: XGB w/ENN
Best params: {'clf__n_estimators': 1200, 'clf__max_depth': 8, 'clf__learning_rate': 0.1}
Best training f1: 0.145
Test set metrics for best params:
Normal clasification:
              precision    recall  f1-score   support

          -1       0.99      0.99      0.99     20299
           1       0.34      0.20      0.26       347

    accuracy                           0.98     20646
   macro avg       0.66      0.60      0.62     20646
weighted avg       0.98      0.98      0.98     20646

Weighted clasification:
              precision    recall  f1-score   support

          -1       1.00      0.99      1.00 487598.5450675699
           1       0.09      0.20      0.13 1632.976226244807

    accuracy                           0.99 489231.5212938147
   macro avg       0.55      0.60      0.56 489231.5212938147
weighted avg       0.99      0.99      0.99 489231.5212938147


Classifier with best test set f1: Random Forest w/ENN

Saved Random Forest w/ENN grid search pipeline to file: ./models_w_dn_factor/OFFICE_best_gs_pipeline.pkl

--------------------OVA: OTHER vs All------------------
Performing model optimizations...

Estimator: Random Forest
Best params: {'clf__n_estimators': 1200, 'clf__min_samples_split': 5, 'clf__min_samples_leaf': 1, 'clf__max_depth': None, 'clf__criterion': 'entropy'}
Best training f1: 0.255
Test set metrics for best params:
Normal clasification:
              precision    recall  f1-score   support

          -1       0.99      1.00      0.99     20385
           1       0.79      0.23      0.36       261

    accuracy                           0.99     20646
   macro avg       0.89      0.62      0.68     20646
weighted avg       0.99      0.99      0.99     20646

Weighted clasification:
              precision    recall  f1-score   support

          -1       1.00      1.00      1.00 504957.77503472177
           1       0.38      0.23      0.29 1032.4516113706948

    accuracy                           1.00 505990.2266460925
   macro avg       0.69      0.62      0.64 505990.2266460925
weighted avg       1.00      1.00      1.00 505990.2266460925


Estimator: Random Forest w/ENN
Best params: {'clf__n_estimators': 600, 'clf__min_samples_split': 8, 'clf__min_samples_leaf': 1, 'clf__max_depth': None, 'clf__criterion': 'gini'}
Best training f1: 0.232
Test set metrics for best params:
Normal clasification:
              precision    recall  f1-score   support

          -1       0.99      1.00      0.99     20385
           1       0.65      0.26      0.37       261

    accuracy                           0.99     20646
   macro avg       0.82      0.63      0.68     20646
weighted avg       0.99      0.99      0.99     20646

Weighted clasification:
              precision    recall  f1-score   support

          -1       1.00      1.00      1.00 504957.77503472177
           1       0.23      0.26      0.25 1032.4516113706948

    accuracy                           1.00 505990.2266460925
   macro avg       0.62      0.63      0.62 505990.2266460925
weighted avg       1.00      1.00      1.00 505990.2266460925


Estimator: KNN
Best params: {'clf__weights': 'distance', 'clf__n_neighbors': 5, 'clf__metric': 'manhattan'}
Best training f1: 0.279
Test set metrics for best params:
Normal clasification:
              precision    recall  f1-score   support

          -1       0.99      1.00      0.99     20385
           1       0.66      0.31      0.42       261

    accuracy                           0.99     20646
   macro avg       0.83      0.65      0.71     20646
weighted avg       0.99      0.99      0.99     20646

Weighted clasification:
              precision    recall  f1-score   support

          -1       1.00      1.00      1.00 504957.77503472177
           1       0.24      0.31      0.27 1032.4516113706948

    accuracy                           1.00 505990.2266460925
   macro avg       0.62      0.65      0.63 505990.2266460925
weighted avg       1.00      1.00      1.00 505990.2266460925


Estimator: KNN w/ENN
Best params: {'clf__weights': 'distance', 'clf__n_neighbors': 13, 'clf__metric': 'manhattan'}
Best training f1: 0.252
Test set metrics for best params:
Normal clasification:
              precision    recall  f1-score   support

          -1       0.99      1.00      0.99     20385
           1       0.67      0.23      0.34       261

    accuracy                           0.99     20646
   macro avg       0.83      0.61      0.67     20646
weighted avg       0.99      0.99      0.99     20646

Weighted clasification:
              precision    recall  f1-score   support

          -1       1.00      1.00      1.00 504957.77503472177
           1       0.24      0.23      0.24 1032.4516113706948

    accuracy                           1.00 505990.2266460925
   macro avg       0.62      0.61      0.62 505990.2266460925
weighted avg       1.00      1.00      1.00 505990.2266460925


Estimator: XGB
Best params: {'clf__n_estimators': 1200, 'clf__max_depth': 18, 'clf__learning_rate': 0.15}
Best training f1: 0.346
Test set metrics for best params:
Normal clasification:
              precision    recall  f1-score   support

          -1       0.99      1.00      1.00     20385
           1       0.77      0.41      0.53       261

    accuracy                           0.99     20646
   macro avg       0.88      0.70      0.77     20646
weighted avg       0.99      0.99      0.99     20646

Weighted clasification:
              precision    recall  f1-score   support

          -1       1.00      1.00      1.00 504957.77503472177
           1       0.35      0.41      0.38 1032.4516113706948

    accuracy                           1.00 505990.2266460925
   macro avg       0.67      0.70      0.69 505990.2266460925
weighted avg       1.00      1.00      1.00 505990.2266460925


Estimator: XGB w/ENN
Best params: {'clf__n_estimators': 600, 'clf__max_depth': 8, 'clf__learning_rate': 0.1}
Best training f1: 0.276
Test set metrics for best params:
Normal clasification:
              precision    recall  f1-score   support

          -1       0.99      1.00      0.99     20385
           1       0.61      0.46      0.52       261

    accuracy                           0.99     20646
   macro avg       0.80      0.73      0.76     20646
weighted avg       0.99      0.99      0.99     20646

Weighted clasification:
              precision    recall  f1-score   support

          -1       1.00      1.00      1.00 504957.77503472177
           1       0.20      0.46      0.28 1032.4516113706948

    accuracy                           1.00 505990.2266460925
   macro avg       0.60      0.73      0.64 505990.2266460925
weighted avg       1.00      1.00      1.00 505990.2266460925


Classifier with best test set f1: XGB

Saved XGB grid search pipeline to file: ./models_w_dn_factor/OTHER_best_gs_pipeline.pkl

--------------------OVA: PUBLIC vs All------------------
Performing model optimizations...

Estimator: Random Forest
Best params: {'clf__n_estimators': 600, 'clf__min_samples_split': 2, 'clf__min_samples_leaf': 1, 'clf__max_depth': None, 'clf__criterion': 'gini'}
Best training f1: 0.170
Test set metrics for best params:
Normal clasification:
              precision    recall  f1-score   support

          -1       0.97      1.00      0.99     20038
           1       0.65      0.14      0.23       608

    accuracy                           0.97     20646
   macro avg       0.81      0.57      0.61     20646
weighted avg       0.97      0.97      0.96     20646

Weighted clasification:
              precision    recall  f1-score   support

          -1       1.00      1.00      1.00 497355.989738998
           1       0.23      0.14      0.17 2374.94475947527

    accuracy                           0.99 499730.93449847325
   macro avg       0.61      0.57      0.59 499730.93449847325
weighted avg       0.99      0.99      0.99 499730.93449847325


Estimator: Random Forest w/ENN
Best params: {'clf__n_estimators': 900, 'clf__min_samples_split': 5, 'clf__min_samples_leaf': 1, 'clf__max_depth': None, 'clf__criterion': 'gini'}
Best training f1: 0.168
Test set metrics for best params:
Normal clasification:
              precision    recall  f1-score   support

          -1       0.98      1.00      0.99     20038
           1       0.52      0.17      0.26       608

    accuracy                           0.97     20646
   macro avg       0.75      0.58      0.62     20646
weighted avg       0.96      0.97      0.96     20646

Weighted clasification:
              precision    recall  f1-score   support

          -1       1.00      1.00      1.00 497355.989738998
           1       0.15      0.17      0.16 2374.94475947527

    accuracy                           0.99 499730.93449847325
   macro avg       0.57      0.58      0.58 499730.93449847325
weighted avg       0.99      0.99      0.99 499730.93449847325


Estimator: KNN
Best params: {'clf__weights': 'distance', 'clf__n_neighbors': 7, 'clf__metric': 'manhattan'}
Best training f1: 0.162
Test set metrics for best params:
Normal clasification:
              precision    recall  f1-score   support

          -1       0.97      1.00      0.99     20038
           1       0.60      0.12      0.19       608

    accuracy                           0.97     20646
   macro avg       0.79      0.56      0.59     20646
weighted avg       0.96      0.97      0.96     20646

Weighted clasification:
              precision    recall  f1-score   support

          -1       1.00      1.00      1.00 497355.989738998
           1       0.19      0.12      0.14 2374.94475947527

    accuracy                           0.99 499730.93449847325
   macro avg       0.59      0.56      0.57 499730.93449847325
weighted avg       0.99      0.99      0.99 499730.93449847325


Estimator: KNN w/ENN
Best params: {'clf__weights': 'distance', 'clf__n_neighbors': 7, 'clf__metric': 'manhattan'}
Best training f1: 0.148
Test set metrics for best params:
Normal clasification:
              precision    recall  f1-score   support

          -1       0.98      0.99      0.98     20038
           1       0.45      0.16      0.24       608

    accuracy                           0.97     20646
   macro avg       0.71      0.58      0.61     20646
weighted avg       0.96      0.97      0.96     20646

Weighted clasification:
              precision    recall  f1-score   support

          -1       1.00      0.99      0.99 497355.989738998
           1       0.12      0.16      0.14 2374.94475947527

    accuracy                           0.99 499730.93449847325
   macro avg       0.56      0.58      0.57 499730.93449847325
weighted avg       0.99      0.99      0.99 499730.93449847325


Estimator: XGB
Best params: {'clf__n_estimators': 900, 'clf__max_depth': 6, 'clf__learning_rate': 0.1}
Best training f1: 0.191
Test set metrics for best params:
Normal clasification:
              precision    recall  f1-score   support

          -1       0.98      1.00      0.99     20038
           1       0.64      0.16      0.26       608

    accuracy                           0.97     20646
   macro avg       0.81      0.58      0.62     20646
weighted avg       0.97      0.97      0.96     20646

Weighted clasification:
              precision    recall  f1-score   support

          -1       1.00      1.00      1.00 497355.989738998
           1       0.22      0.16      0.18 2374.94475947527

    accuracy                           0.99 499730.93449847325
   macro avg       0.61      0.58      0.59 499730.93449847325
weighted avg       0.99      0.99      0.99 499730.93449847325


Estimator: XGB w/ENN
Best params: {'clf__n_estimators': 1200, 'clf__max_depth': 18, 'clf__learning_rate': 0.1}
Best training f1: 0.170
Test set metrics for best params:
Normal clasification:
              precision    recall  f1-score   support

          -1       0.98      0.99      0.98     20038
           1       0.44      0.27      0.33       608

    accuracy                           0.97     20646
   macro avg       0.71      0.63      0.66     20646
weighted avg       0.96      0.97      0.96     20646

Weighted clasification:
              precision    recall  f1-score   support

          -1       1.00      0.99      0.99 497355.989738998
           1       0.11      0.27      0.16 2374.94475947527

    accuracy                           0.99 499730.93449847325
   macro avg       0.55      0.63      0.57 499730.93449847325
weighted avg       0.99      0.99      0.99 499730.93449847325


Classifier with best test set f1: XGB

Saved XGB grid search pipeline to file: ./models_w_dn_factor/PUBLIC_best_gs_pipeline.pkl

--------------------OVA: RESIDENTIAL vs All------------------
Performing model optimizations...

Estimator: Random Forest
Best params: {'clf__n_estimators': 100, 'clf__min_samples_split': 5, 'clf__min_samples_leaf': 5, 'clf__max_depth': None, 'clf__criterion': 'entropy'}
Best training f1: 0.459
Test set metrics for best params:
Normal clasification:
              precision    recall  f1-score   support

          -1       0.59      0.76      0.66      2620
           1       0.96      0.92      0.94     18026

    accuracy                           0.90     20646
   macro avg       0.78      0.84      0.80     20646
weighted avg       0.92      0.90      0.91     20646

Weighted clasification:
              precision    recall  f1-score   support

          -1       0.99      0.76      0.86 73962.59910100247
           1       0.32      0.92      0.47 8955.312427748553

    accuracy                           0.78 82917.91152875102
   macro avg       0.65      0.84      0.67 82917.91152875102
weighted avg       0.92      0.78      0.82 82917.91152875102


Estimator: Random Forest w/ENN
Best params: {'clf__n_estimators': 600, 'clf__min_samples_split': 8, 'clf__min_samples_leaf': 5, 'clf__max_depth': None, 'clf__criterion': 'entropy'}
Best training f1: 0.491
Test set metrics for best params:
Normal clasification:
              precision    recall  f1-score   support

          -1       0.51      0.80      0.63      2620
           1       0.97      0.89      0.93     18026

    accuracy                           0.88     20646
   macro avg       0.74      0.85      0.78     20646
weighted avg       0.91      0.88      0.89     20646

Weighted clasification:
              precision    recall  f1-score   support

          -1       0.98      0.80      0.88 73962.59910100247
           1       0.35      0.89      0.50 8955.312427748553

    accuracy                           0.81 82917.91152875102
   macro avg       0.67      0.85      0.69 82917.91152875102
weighted avg       0.92      0.81      0.84 82917.91152875102


Estimator: KNN
Best params: {'clf__weights': 'distance', 'clf__n_neighbors': 1, 'clf__metric': 'manhattan'}
Best training f1: 0.355
Test set metrics for best params:
Normal clasification:
              precision    recall  f1-score   support

          -1       0.65      0.58      0.61      2620
           1       0.94      0.95      0.95     18026

    accuracy                           0.91     20646
   macro avg       0.80      0.77      0.78     20646
weighted avg       0.90      0.91      0.90     20646

Weighted clasification:
              precision    recall  f1-score   support

          -1       0.99      0.58      0.73 73962.59910100247
           1       0.22      0.95      0.35 8955.312427748553

    accuracy                           0.62 82917.91152875102
   macro avg       0.60      0.77      0.54 82917.91152875102
weighted avg       0.91      0.62      0.69 82917.91152875102


Estimator: KNN w/ENN
Best params: {'clf__weights': 'uniform', 'clf__n_neighbors': 1, 'clf__metric': 'manhattan'}
Best training f1: 0.391
Test set metrics for best params:
Normal clasification:
              precision    recall  f1-score   support

          -1       0.56      0.66      0.60      2620
           1       0.95      0.92      0.94     18026

    accuracy                           0.89     20646
   macro avg       0.75      0.79      0.77     20646
weighted avg       0.90      0.89      0.89     20646

Weighted clasification:
              precision    recall  f1-score   support

          -1       0.99      0.66      0.79 73962.59910100247
           1       0.25      0.92      0.39 8955.312427748553

    accuracy                           0.69 82917.91152875102
   macro avg       0.62      0.79      0.59 82917.91152875102
weighted avg       0.91      0.69      0.75 82917.91152875102


Estimator: XGB
Best params: {'clf__n_estimators': 1200, 'clf__max_depth': 12, 'clf__learning_rate': 0.4}
Best training f1: 0.372
Test set metrics for best params:
Normal clasification:
              precision    recall  f1-score   support

          -1       0.82      0.60      0.69      2620
           1       0.94      0.98      0.96     18026

    accuracy                           0.93     20646
   macro avg       0.88      0.79      0.83     20646
weighted avg       0.93      0.93      0.93     20646

Weighted clasification:
              precision    recall  f1-score   support

          -1       1.00      0.60      0.75 73962.59910100247
           1       0.23      0.98      0.37 8955.312427748553

    accuracy                           0.64 82917.91152875102
   macro avg       0.61      0.79      0.56 82917.91152875102
weighted avg       0.91      0.64      0.71 82917.91152875102


Estimator: XGB w/ENN
Best params: {'clf__n_estimators': 1200, 'clf__max_depth': 12, 'clf__learning_rate': 0.5}
Best training f1: 0.424
Test set metrics for best params:
Normal clasification:
              precision    recall  f1-score   support

          -1       0.69      0.69      0.69      2620
           1       0.95      0.96      0.96     18026

    accuracy                           0.92     20646
   macro avg       0.82      0.82      0.82     20646
weighted avg       0.92      0.92      0.92     20646

Weighted clasification:
              precision    recall  f1-score   support

          -1       0.99      0.69      0.81 73962.59910100247
           1       0.27      0.96      0.42 8955.312427748553

    accuracy                           0.72 82917.91152875102
   macro avg       0.63      0.82      0.62 82917.91152875102
weighted avg       0.91      0.72      0.77 82917.91152875102


Classifier with best test set f1: Random Forest w/ENN

Saved Random Forest w/ENN grid search pipeline to file: ./models_w_dn_factor/RESIDENTIAL_best_gs_pipeline.pkl

--------------------OVA: RETAIL vs All------------------
Performing model optimizations...

Estimator: Random Forest
Best params: {'clf__n_estimators': 900, 'clf__min_samples_split': 5, 'clf__min_samples_leaf': 5, 'clf__max_depth': None, 'clf__criterion': 'entropy'}
Best training f1: 0.086
Test set metrics for best params:
Normal clasification:
              precision    recall  f1-score   support

          -1       0.98      1.00      0.99     20231
           1       0.85      0.04      0.08       415

    accuracy                           0.98     20646
   macro avg       0.92      0.52      0.53     20646
weighted avg       0.98      0.98      0.97     20646

Weighted clasification:
              precision    recall  f1-score   support

          -1       1.00      1.00      1.00 492147.4852226726
           1       0.51      0.04      0.08 1826.163975940597

    accuracy                           1.00 493973.6491986132
   macro avg       0.75      0.52      0.54 493973.6491986132
weighted avg       0.99      1.00      0.99 493973.6491986132


Estimator: Random Forest w/ENN
Best params: {'clf__n_estimators': 900, 'clf__min_samples_split': 5, 'clf__min_samples_leaf': 1, 'clf__max_depth': None, 'clf__criterion': 'entropy'}
Best training f1: 0.189
Test set metrics for best params:
Normal clasification:
              precision    recall  f1-score   support

          -1       0.98      1.00      0.99     20231
           1       0.77      0.12      0.20       415

    accuracy                           0.98     20646
   macro avg       0.88      0.56      0.60     20646
weighted avg       0.98      0.98      0.97     20646

Weighted clasification:
              precision    recall  f1-score   support

          -1       1.00      1.00      1.00 492147.4852226726
           1       0.38      0.12      0.18 1826.163975940597

    accuracy                           1.00 493973.6491986132
   macro avg       0.69      0.56      0.59 493973.6491986132
weighted avg       0.99      1.00      0.99 493973.6491986132


Estimator: KNN
Best params: {'clf__weights': 'distance', 'clf__n_neighbors': 7, 'clf__metric': 'manhattan'}
Best training f1: 0.201
Test set metrics for best params:
Normal clasification:
              precision    recall  f1-score   support

          -1       0.98      1.00      0.99     20231
           1       0.67      0.14      0.23       415

    accuracy                           0.98     20646
   macro avg       0.83      0.57      0.61     20646
weighted avg       0.98      0.98      0.98     20646

Weighted clasification:
              precision    recall  f1-score   support

          -1       1.00      1.00      1.00 492147.4852226726
           1       0.27      0.14      0.18 1826.163975940597

    accuracy                           1.00 493973.6491986132
   macro avg       0.63      0.57      0.59 493973.6491986132
weighted avg       0.99      1.00      0.99 493973.6491986132


Estimator: KNN w/ENN
Best params: {'clf__weights': 'distance', 'clf__n_neighbors': 11, 'clf__metric': 'manhattan'}
Best training f1: 0.202
Test set metrics for best params:
Normal clasification:
              precision    recall  f1-score   support

          -1       0.98      1.00      0.99     20231
           1       0.66      0.14      0.23       415

    accuracy                           0.98     20646
   macro avg       0.82      0.57      0.61     20646
weighted avg       0.98      0.98      0.98     20646

Weighted clasification:
              precision    recall  f1-score   support

          -1       1.00      1.00      1.00 492147.4852226726
           1       0.26      0.14      0.18 1826.163975940597

    accuracy                           1.00 493973.6491986132
   macro avg       0.63      0.57      0.59 493973.6491986132
weighted avg       0.99      1.00      0.99 493973.6491986132


Estimator: XGB
Best params: {'clf__n_estimators': 600, 'clf__max_depth': 18, 'clf__learning_rate': 0.3}
Best training f1: 0.204
Test set metrics for best params:
Normal clasification:
              precision    recall  f1-score   support

          -1       0.98      1.00      0.99     20231
           1       0.68      0.14      0.24       415

    accuracy                           0.98     20646
   macro avg       0.83      0.57      0.61     20646
weighted avg       0.98      0.98      0.98     20646

Weighted clasification:
              precision    recall  f1-score   support

          -1       1.00      1.00      1.00 492147.4852226726
           1       0.28      0.14      0.19 1826.163975940597

    accuracy                           1.00 493973.6491986132
   macro avg       0.64      0.57      0.59 493973.6491986132
weighted avg       0.99      1.00      0.99 493973.6491986132


Estimator: XGB w/ENN
Best params: {'clf__n_estimators': 1200, 'clf__max_depth': 18, 'clf__learning_rate': 0.3}
Best training f1: 0.189
Test set metrics for best params:
Normal clasification:
              precision    recall  f1-score   support

          -1       0.98      1.00      0.99     20231
           1       0.53      0.20      0.29       415

    accuracy                           0.98     20646
   macro avg       0.76      0.60      0.64     20646
weighted avg       0.97      0.98      0.98     20646

Weighted clasification:
              precision    recall  f1-score   support

          -1       1.00      1.00      1.00 492147.4852226726
           1       0.17      0.20      0.18 1826.163975940597

    accuracy                           0.99 493973.6491986132
   macro avg       0.58      0.60      0.59 493973.6491986132
weighted avg       0.99      0.99      0.99 493973.6491986132


Classifier with best test set f1: XGB

Saved XGB grid search pipeline to file: ./models_w_dn_factor/RETAIL_best_gs_pipeline.pkl
