
--------------------OVA: AGRICULTURE vs All------------------
Performing model optimizations...

Estimator: Random Forest
Best params: {'clf__n_estimators': 1200, 'clf__min_samples_split': 2, 'clf__min_samples_leaf': 1, 'clf__max_depth': None, 'clf__criterion': 'gini'}
Best training f1: 0.552
Test set metrics for best params:
Normal clasification:
              precision    recall  f1-score   support

          -1       1.00      1.00      1.00     20577
           1       0.76      0.57      0.65        69

    accuracy                           1.00     20646
   macro avg       0.88      0.78      0.82     20646
weighted avg       1.00      1.00      1.00     20646

Weighted clasification:
              precision    recall  f1-score   support

          -1       1.00      1.00      1.00 4.437639527659717
           1       0.49      0.57      0.52 0.0043207374983643045

    accuracy                           1.00 4.441960265158081
   macro avg       0.74      0.78      0.76 4.441960265158081
weighted avg       1.00      1.00      1.00 4.441960265158081


Estimator: Random Forest w/ENN
Best params: {'clf__n_estimators': 50, 'clf__min_samples_split': 8, 'clf__min_samples_leaf': 1, 'clf__max_depth': None, 'clf__criterion': 'entropy'}
Best training f1: 0.514
Test set metrics for best params:
Normal clasification:
              precision    recall  f1-score   support

          -1       1.00      1.00      1.00     20577
           1       0.75      0.65      0.70        69

    accuracy                           1.00     20646
   macro avg       0.87      0.83      0.85     20646
weighted avg       1.00      1.00      1.00     20646

Weighted clasification:
              precision    recall  f1-score   support

          -1       1.00      1.00      1.00 4.437639527659717
           1       0.47      0.65      0.54 0.0043207374983643045

    accuracy                           1.00 4.441960265158081
   macro avg       0.73      0.83      0.77 4.441960265158081
weighted avg       1.00      1.00      1.00 4.441960265158081


Estimator: KNN
Best params: {'clf__weights': 'distance', 'clf__n_neighbors': 7, 'clf__metric': 'manhattan'}
Best training f1: 0.505
Test set metrics for best params:
Normal clasification:
              precision    recall  f1-score   support

          -1       1.00      1.00      1.00     20577
           1       0.71      0.52      0.60        69

    accuracy                           1.00     20646
   macro avg       0.85      0.76      0.80     20646
weighted avg       1.00      1.00      1.00     20646

Weighted clasification:
              precision    recall  f1-score   support

          -1       1.00      1.00      1.00 4.437639527659717
           1       0.41      0.52      0.46 0.0043207374983643045

    accuracy                           1.00 4.441960265158081
   macro avg       0.71      0.76      0.73 4.441960265158081
weighted avg       1.00      1.00      1.00 4.441960265158081


Estimator: KNN w/ENN
Best params: {'clf__weights': 'distance', 'clf__n_neighbors': 11, 'clf__metric': 'manhattan'}
Best training f1: 0.519
Test set metrics for best params:
Normal clasification:
              precision    recall  f1-score   support

          -1       1.00      1.00      1.00     20577
           1       0.75      0.67      0.71        69

    accuracy                           1.00     20646
   macro avg       0.88      0.83      0.85     20646
weighted avg       1.00      1.00      1.00     20646

Weighted clasification:
              precision    recall  f1-score   support

          -1       1.00      1.00      1.00 4.437639527659717
           1       0.47      0.67      0.55 0.0043207374983643045

    accuracy                           1.00 4.441960265158081
   macro avg       0.74      0.83      0.78 4.441960265158081
weighted avg       1.00      1.00      1.00 4.441960265158081


Estimator: XGB
Best params: {'clf__n_estimators': 600, 'clf__max_depth': 8, 'clf__learning_rate': 0.15}
Best training f1: 0.549
Test set metrics for best params:
Normal clasification:
              precision    recall  f1-score   support

          -1       1.00      1.00      1.00     20577
           1       0.79      0.59      0.68        69

    accuracy                           1.00     20646
   macro avg       0.89      0.80      0.84     20646
weighted avg       1.00      1.00      1.00     20646

Weighted clasification:
              precision    recall  f1-score   support

          -1       1.00      1.00      1.00 4.437639527659717
           1       0.52      0.59      0.55 0.0043207374983643045

    accuracy                           1.00 4.441960265158081
   macro avg       0.76      0.80      0.78 4.441960265158081
weighted avg       1.00      1.00      1.00 4.441960265158081


Estimator: XGB w/ENN
Best params: {'clf__n_estimators': 600, 'clf__max_depth': 8, 'clf__learning_rate': 0.4}
Best training f1: 0.510
Test set metrics for best params:
Normal clasification:
              precision    recall  f1-score   support

          -1       1.00      1.00      1.00     20577
           1       0.70      0.78      0.74        69

    accuracy                           1.00     20646
   macro avg       0.85      0.89      0.87     20646
weighted avg       1.00      1.00      1.00     20646

Weighted clasification:
              precision    recall  f1-score   support

          -1       1.00      1.00      1.00 4.437639527659717
           1       0.41      0.78      0.53 0.0043207374983643045

    accuracy                           1.00 4.441960265158081
   macro avg       0.70      0.89      0.77 4.441960265158081
weighted avg       1.00      1.00      1.00 4.441960265158081


Classifier with best test set f1: XGB

Saved XGB grid search pipeline to file: ./models2/AGRICULTURE_best_gs_pipeline.pkl

--------------------OVA: INDUSTRIAL vs All------------------
Performing model optimizations...

Estimator: Random Forest
Best params: {'clf__n_estimators': 1200, 'clf__min_samples_split': 8, 'clf__min_samples_leaf': 1, 'clf__max_depth': None, 'clf__criterion': 'gini'}
Best training f1: 0.505
Test set metrics for best params:
Normal clasification:
              precision    recall  f1-score   support

          -1       0.98      1.00      0.99     19726
           1       0.86      0.51      0.64       920

    accuracy                           0.97     20646
   macro avg       0.92      0.75      0.81     20646
weighted avg       0.97      0.97      0.97     20646

Weighted clasification:
              precision    recall  f1-score   support

          -1       1.00      1.00      1.00 4.572596809117645
           1       0.56      0.51      0.53 0.04275606837131091

    accuracy                           0.99 4.615352877488956
   macro avg       0.78      0.75      0.77 4.615352877488956
weighted avg       0.99      0.99      0.99 4.615352877488956


Estimator: Random Forest w/ENN
Best params: {'clf__n_estimators': 1200, 'clf__min_samples_split': 2, 'clf__min_samples_leaf': 5, 'clf__max_depth': None, 'clf__criterion': 'entropy'}
Best training f1: 0.467
Test set metrics for best params:
Normal clasification:
              precision    recall  f1-score   support

          -1       0.98      0.99      0.99     19726
           1       0.78      0.56      0.65       920

    accuracy                           0.97     20646
   macro avg       0.88      0.78      0.82     20646
weighted avg       0.97      0.97      0.97     20646

Weighted clasification:
              precision    recall  f1-score   support

          -1       1.00      0.99      0.99 4.572596809117645
           1       0.41      0.56      0.48 0.04275606837131091

    accuracy                           0.99 4.615352877488956
   macro avg       0.70      0.78      0.73 4.615352877488956
weighted avg       0.99      0.99      0.99 4.615352877488956


Estimator: KNN
Best params: {'clf__weights': 'distance', 'clf__n_neighbors': 7, 'clf__metric': 'manhattan'}
Best training f1: 0.474
Test set metrics for best params:
Normal clasification:
              precision    recall  f1-score   support

          -1       0.98      0.99      0.99     19726
           1       0.80      0.55      0.65       920

    accuracy                           0.97     20646
   macro avg       0.89      0.77      0.82     20646
weighted avg       0.97      0.97      0.97     20646

Weighted clasification:
              precision    recall  f1-score   support

          -1       1.00      0.99      0.99 4.572596809117645
           1       0.44      0.55      0.49 0.04275606837131091

    accuracy                           0.99 4.615352877488956
   macro avg       0.72      0.77      0.74 4.615352877488956
weighted avg       0.99      0.99      0.99 4.615352877488956


Estimator: KNN w/ENN
Best params: {'clf__weights': 'distance', 'clf__n_neighbors': 13, 'clf__metric': 'manhattan'}
Best training f1: 0.410
Test set metrics for best params:
Normal clasification:
              precision    recall  f1-score   support

          -1       0.98      0.99      0.99     19726
           1       0.73      0.59      0.65       920

    accuracy                           0.97     20646
   macro avg       0.86      0.79      0.82     20646
weighted avg       0.97      0.97      0.97     20646

Weighted clasification:
              precision    recall  f1-score   support

          -1       1.00      0.99      0.99 4.572596809117645
           1       0.35      0.59      0.44 0.04275606837131091

    accuracy                           0.99 4.615352877488956
   macro avg       0.67      0.79      0.72 4.615352877488956
weighted avg       0.99      0.99      0.99 4.615352877488956


Estimator: XGB
Best params: {'clf__n_estimators': 600, 'clf__max_depth': 8, 'clf__learning_rate': 0.1}
Best training f1: 0.510
Test set metrics for best params:
Normal clasification:
              precision    recall  f1-score   support

          -1       0.98      0.99      0.99     19726
           1       0.82      0.59      0.69       920

    accuracy                           0.98     20646
   macro avg       0.90      0.79      0.84     20646
weighted avg       0.97      0.98      0.97     20646

Weighted clasification:
              precision    recall  f1-score   support

          -1       1.00      0.99      1.00 4.572596809117645
           1       0.48      0.59      0.53 0.04275606837131091

    accuracy                           0.99 4.615352877488956
   macro avg       0.74      0.79      0.76 4.615352877488956
weighted avg       0.99      0.99      0.99 4.615352877488956


Estimator: XGB w/ENN
Best params: {'clf__n_estimators': 600, 'clf__max_depth': 6, 'clf__learning_rate': 0.15}
Best training f1: 0.425
Test set metrics for best params:
Normal clasification:
              precision    recall  f1-score   support

          -1       0.99      0.99      0.99     19726
           1       0.71      0.69      0.70       920

    accuracy                           0.97     20646
   macro avg       0.85      0.84      0.84     20646
weighted avg       0.97      0.97      0.97     20646

Weighted clasification:
              precision    recall  f1-score   support

          -1       1.00      0.99      0.99 4.572596809117645
           1       0.33      0.69      0.45 0.04275606837131091

    accuracy                           0.98 4.615352877488956
   macro avg       0.66      0.84      0.72 4.615352877488956
weighted avg       0.99      0.98      0.99 4.615352877488956


Classifier with best test set f1: Random Forest

Saved Random Forest grid search pipeline to file: ./models2/INDUSTRIAL_best_gs_pipeline.pkl

--------------------OVA: OFFICE vs All------------------
Performing model optimizations...

Estimator: Random Forest
Best params: {'clf__n_estimators': 900, 'clf__min_samples_split': 5, 'clf__min_samples_leaf': 3, 'clf__max_depth': None, 'clf__criterion': 'gini'}
Best training f1: 0.005
Test set metrics for best params:
Normal clasification:
              precision    recall  f1-score   support

          -1       0.98      1.00      0.99     20299
           1       1.00      0.01      0.02       347

    accuracy                           0.98     20646
   macro avg       0.99      0.50      0.50     20646
weighted avg       0.98      0.98      0.98     20646

Weighted clasification:
              precision    recall  f1-score   support

          -1       1.00      1.00      1.00 4.723419016443947
           1       1.00      0.01      0.02 0.015818814552405382

    accuracy                           1.00 4.739237830996353
   macro avg       1.00      0.50      0.51 4.739237830996353
weighted avg       1.00      1.00      1.00 4.739237830996353


Estimator: Random Forest w/ENN
Best params: {'clf__n_estimators': 100, 'clf__min_samples_split': 2, 'clf__min_samples_leaf': 1, 'clf__max_depth': None, 'clf__criterion': 'entropy'}
Best training f1: 0.131
Test set metrics for best params:
Normal clasification:
              precision    recall  f1-score   support

          -1       0.99      0.99      0.99     20299
           1       0.36      0.18      0.24       347

    accuracy                           0.98     20646
   macro avg       0.67      0.59      0.61     20646
weighted avg       0.98      0.98      0.98     20646

Weighted clasification:
              precision    recall  f1-score   support

          -1       1.00      0.99      1.00 4.723419016443947
           1       0.10      0.18      0.13 0.015818814552405382

    accuracy                           0.99 4.739237830996353
   macro avg       0.55      0.59      0.56 4.739237830996353
weighted avg       0.99      0.99      0.99 4.739237830996353


Estimator: KNN
Best params: {'clf__weights': 'distance', 'clf__n_neighbors': 7, 'clf__metric': 'manhattan'}
Best training f1: 0.127
Test set metrics for best params:
Normal clasification:
              precision    recall  f1-score   support

          -1       0.98      1.00      0.99     20299
           1       0.46      0.09      0.15       347

    accuracy                           0.98     20646
   macro avg       0.72      0.55      0.57     20646
weighted avg       0.98      0.98      0.98     20646

Weighted clasification:
              precision    recall  f1-score   support

          -1       1.00      1.00      1.00 4.723419016443947
           1       0.14      0.09      0.11 0.015818814552405382

    accuracy                           1.00 4.739237830996353
   macro avg       0.57      0.55      0.56 4.739237830996353
weighted avg       0.99      1.00      0.99 4.739237830996353


Estimator: KNN w/ENN
Best params: {'clf__weights': 'distance', 'clf__n_neighbors': 13, 'clf__metric': 'manhattan'}
Best training f1: 0.131
Test set metrics for best params:
Normal clasification:
              precision    recall  f1-score   support

          -1       0.99      1.00      0.99     20299
           1       0.35      0.15      0.21       347

    accuracy                           0.98     20646
   macro avg       0.67      0.57      0.60     20646
weighted avg       0.97      0.98      0.98     20646

Weighted clasification:
              precision    recall  f1-score   support

          -1       1.00      1.00      1.00 4.723419016443947
           1       0.09      0.15      0.12 0.015818814552405382

    accuracy                           0.99 4.739237830996353
   macro avg       0.55      0.57      0.56 4.739237830996353
weighted avg       0.99      0.99      0.99 4.739237830996353


Estimator: XGB
Best params: {'clf__n_estimators': 400, 'clf__max_depth': 18, 'clf__learning_rate': 0.4}
Best training f1: 0.135
Test set metrics for best params:
Normal clasification:
              precision    recall  f1-score   support

          -1       0.98      1.00      0.99     20299
           1       0.38      0.11      0.17       347

    accuracy                           0.98     20646
   macro avg       0.68      0.55      0.58     20646
weighted avg       0.97      0.98      0.98     20646

Weighted clasification:
              precision    recall  f1-score   support

          -1       1.00      1.00      1.00 4.723419016443947
           1       0.11      0.11      0.11 0.015818814552405382

    accuracy                           0.99 4.739237830996353
   macro avg       0.55      0.55      0.55 4.739237830996353
weighted avg       0.99      0.99      0.99 4.739237830996353


Estimator: XGB w/ENN
Best params: {'clf__n_estimators': 400, 'clf__max_depth': 12, 'clf__learning_rate': 0.15}
Best training f1: 0.147
Test set metrics for best params:
Normal clasification:
              precision    recall  f1-score   support

          -1       0.99      0.99      0.99     20299
           1       0.35      0.23      0.28       347

    accuracy                           0.98     20646
   macro avg       0.67      0.61      0.63     20646
weighted avg       0.98      0.98      0.98     20646

Weighted clasification:
              precision    recall  f1-score   support

          -1       1.00      0.99      1.00 4.723419016443947
           1       0.09      0.23      0.13 0.015818814552405382

    accuracy                           0.99 4.739237830996353
   macro avg       0.55      0.61      0.56 4.739237830996353
weighted avg       0.99      0.99      0.99 4.739237830996353


Classifier with best test set f1: XGB w/ENN

Saved XGB w/ENN grid search pipeline to file: ./models2/OFFICE_best_gs_pipeline.pkl

--------------------OVA: OTHER vs All------------------
Performing model optimizations...

Estimator: Random Forest
Best params: {'clf__n_estimators': 50, 'clf__min_samples_split': 5, 'clf__min_samples_leaf': 1, 'clf__max_depth': None, 'clf__criterion': 'entropy'}
Best training f1: 0.271
Test set metrics for best params:
Normal clasification:
              precision    recall  f1-score   support

          -1       0.99      1.00      0.99     20385
           1       0.75      0.23      0.36       261

    accuracy                           0.99     20646
   macro avg       0.87      0.62      0.68     20646
weighted avg       0.99      0.99      0.99     20646

Weighted clasification:
              precision    recall  f1-score   support

          -1       1.00      1.00      1.00 4.891579725224001
           1       0.33      0.23      0.27 0.010001468675488595

    accuracy                           1.00 4.9015811938994895
   macro avg       0.66      0.62      0.64 4.9015811938994895
weighted avg       1.00      1.00      1.00 4.9015811938994895


Estimator: Random Forest w/ENN
Best params: {'clf__n_estimators': 400, 'clf__min_samples_split': 5, 'clf__min_samples_leaf': 1, 'clf__max_depth': None, 'clf__criterion': 'gini'}
Best training f1: 0.243
Test set metrics for best params:
Normal clasification:
              precision    recall  f1-score   support

          -1       0.99      1.00      0.99     20385
           1       0.59      0.38      0.46       261

    accuracy                           0.99     20646
   macro avg       0.79      0.69      0.73     20646
weighted avg       0.99      0.99      0.99     20646

Weighted clasification:
              precision    recall  f1-score   support

          -1       1.00      1.00      1.00 4.891579725224001
           1       0.19      0.38      0.25 0.010001468675488595

    accuracy                           1.00 4.9015811938994895
   macro avg       0.59      0.69      0.62 4.9015811938994895
weighted avg       1.00      1.00      1.00 4.9015811938994895


Estimator: KNN
Best params: {'clf__weights': 'distance', 'clf__n_neighbors': 7, 'clf__metric': 'manhattan'}
Best training f1: 0.277
Test set metrics for best params:
Normal clasification:
              precision    recall  f1-score   support

          -1       0.99      1.00      0.99     20385
           1       0.65      0.33      0.44       261

    accuracy                           0.99     20646
   macro avg       0.82      0.66      0.72     20646
weighted avg       0.99      0.99      0.99     20646

Weighted clasification:
              precision    recall  f1-score   support

          -1       1.00      1.00      1.00 4.891579725224001
           1       0.23      0.33      0.27 0.010001468675488595

    accuracy                           1.00 4.9015811938994895
   macro avg       0.61      0.66      0.63 4.9015811938994895
weighted avg       1.00      1.00      1.00 4.9015811938994895


Estimator: KNN w/ENN
Best params: {'clf__weights': 'distance', 'clf__n_neighbors': 11, 'clf__metric': 'manhattan'}
Best training f1: 0.240
Test set metrics for best params:
Normal clasification:
              precision    recall  f1-score   support

          -1       0.99      1.00      0.99     20385
           1       0.57      0.37      0.45       261

    accuracy                           0.99     20646
   macro avg       0.78      0.68      0.72     20646
weighted avg       0.99      0.99      0.99     20646

Weighted clasification:
              precision    recall  f1-score   support

          -1       1.00      1.00      1.00 4.891579725224001
           1       0.18      0.37      0.24 0.010001468675488595

    accuracy                           1.00 4.9015811938994895
   macro avg       0.59      0.68      0.62 4.9015811938994895
weighted avg       1.00      1.00      1.00 4.9015811938994895


Estimator: XGB
Best params: {'clf__n_estimators': 1200, 'clf__max_depth': 8, 'clf__learning_rate': 0.1}
Best training f1: 0.326
Test set metrics for best params:
Normal clasification:
              precision    recall  f1-score   support

          -1       0.99      1.00      1.00     20385
           1       0.71      0.38      0.50       261

    accuracy                           0.99     20646
   macro avg       0.85      0.69      0.75     20646
weighted avg       0.99      0.99      0.99     20646

Weighted clasification:
              precision    recall  f1-score   support

          -1       1.00      1.00      1.00 4.891579725224001
           1       0.28      0.38      0.32 0.010001468675488595

    accuracy                           1.00 4.9015811938994895
   macro avg       0.64      0.69      0.66 4.9015811938994895
weighted avg       1.00      1.00      1.00 4.9015811938994895


Estimator: XGB w/ENN
Best params: {'clf__n_estimators': 1200, 'clf__max_depth': 8, 'clf__learning_rate': 0.1}
Best training f1: 0.248
Test set metrics for best params:
Normal clasification:
              precision    recall  f1-score   support

          -1       0.99      0.99      0.99     20385
           1       0.54      0.51      0.52       261

    accuracy                           0.99     20646
   macro avg       0.77      0.75      0.76     20646
weighted avg       0.99      0.99      0.99     20646

Weighted clasification:
              precision    recall  f1-score   support

          -1       1.00      0.99      1.00 4.891579725224001
           1       0.16      0.51      0.24 0.010001468675488595

    accuracy                           0.99 4.9015811938994895
   macro avg       0.58      0.75      0.62 4.9015811938994895
weighted avg       1.00      0.99      1.00 4.9015811938994895


Classifier with best test set f1: XGB

Saved XGB grid search pipeline to file: ./models2/OTHER_best_gs_pipeline.pkl

--------------------OVA: PUBLIC vs All------------------
Performing model optimizations...

Estimator: Random Forest
Best params: {'clf__n_estimators': 100, 'clf__min_samples_split': 2, 'clf__min_samples_leaf': 1, 'clf__max_depth': None, 'clf__criterion': 'entropy'}
Best training f1: 0.151
Test set metrics for best params:
Normal clasification:
              precision    recall  f1-score   support

          -1       0.97      1.00      0.99     20038
           1       0.66      0.11      0.19       608

    accuracy                           0.97     20646
   macro avg       0.82      0.56      0.59     20646
weighted avg       0.96      0.97      0.96     20646

Weighted clasification:
              precision    recall  f1-score   support

          -1       1.00      1.00      1.00 4.817940421767353
           1       0.23      0.11      0.15 0.023006342724743344

    accuracy                           0.99 4.840946764492096
   macro avg       0.61      0.56      0.57 4.840946764492096
weighted avg       0.99      0.99      0.99 4.840946764492096


Estimator: Random Forest w/ENN
Best params: {'clf__n_estimators': 400, 'clf__min_samples_split': 2, 'clf__min_samples_leaf': 3, 'clf__max_depth': None, 'clf__criterion': 'gini'}
Best training f1: 0.153
Test set metrics for best params:
Normal clasification:
              precision    recall  f1-score   support

          -1       0.97      1.00      0.99     20038
           1       0.60      0.12      0.20       608

    accuracy                           0.97     20646
   macro avg       0.79      0.56      0.59     20646
weighted avg       0.96      0.97      0.96     20646

Weighted clasification:
              precision    recall  f1-score   support

          -1       1.00      1.00      1.00 4.817940421767353
           1       0.19      0.12      0.15 0.023006342724743344

    accuracy                           0.99 4.840946764492096
   macro avg       0.59      0.56      0.57 4.840946764492096
weighted avg       0.99      0.99      0.99 4.840946764492096


Estimator: KNN
Best params: {'clf__weights': 'distance', 'clf__n_neighbors': 5, 'clf__metric': 'manhattan'}
Best training f1: 0.156
Test set metrics for best params:
Normal clasification:
              precision    recall  f1-score   support

          -1       0.97      1.00      0.99     20038
           1       0.51      0.15      0.23       608

    accuracy                           0.97     20646
   macro avg       0.74      0.57      0.61     20646
weighted avg       0.96      0.97      0.96     20646

Weighted clasification:
              precision    recall  f1-score   support

          -1       1.00      1.00      1.00 4.817940421767353
           1       0.14      0.15      0.14 0.023006342724743344

    accuracy                           0.99 4.840946764492096
   macro avg       0.57      0.57      0.57 4.840946764492096
weighted avg       0.99      0.99      0.99 4.840946764492096


Estimator: KNN w/ENN
Best params: {'clf__weights': 'distance', 'clf__n_neighbors': 13, 'clf__metric': 'manhattan'}
Best training f1: 0.144
Test set metrics for best params:
Normal clasification:
              precision    recall  f1-score   support

          -1       0.98      0.99      0.98     20038
           1       0.49      0.19      0.28       608

    accuracy                           0.97     20646
   macro avg       0.73      0.59      0.63     20646
weighted avg       0.96      0.97      0.96     20646

Weighted clasification:
              precision    recall  f1-score   support

          -1       1.00      0.99      0.99 4.817940421767353
           1       0.13      0.19      0.16 0.023006342724743344

    accuracy                           0.99 4.840946764492096
   macro avg       0.56      0.59      0.58 4.840946764492096
weighted avg       0.99      0.99      0.99 4.840946764492096


Estimator: XGB
Best params: {'clf__n_estimators': 1200, 'clf__max_depth': 12, 'clf__learning_rate': 0.1}
Best training f1: 0.188
Test set metrics for best params:
Normal clasification:
              precision    recall  f1-score   support

          -1       0.98      1.00      0.99     20038
           1       0.57      0.16      0.25       608

    accuracy                           0.97     20646
   macro avg       0.77      0.58      0.62     20646
weighted avg       0.96      0.97      0.96     20646

Weighted clasification:
              precision    recall  f1-score   support

          -1       1.00      1.00      1.00 4.817940421767353
           1       0.17      0.16      0.17 0.023006342724743344

    accuracy                           0.99 4.840946764492096
   macro avg       0.58      0.58      0.58 4.840946764492096
weighted avg       0.99      0.99      0.99 4.840946764492096


Estimator: XGB w/ENN
Best params: {'clf__n_estimators': 600, 'clf__max_depth': 6, 'clf__learning_rate': 0.15}
Best training f1: 0.160
Test set metrics for best params:
Normal clasification:
              precision    recall  f1-score   support

          -1       0.98      0.99      0.98     20038
           1       0.45      0.28      0.35       608

    accuracy                           0.97     20646
   macro avg       0.71      0.64      0.67     20646
weighted avg       0.96      0.97      0.97     20646

Weighted clasification:
              precision    recall  f1-score   support

          -1       1.00      0.99      0.99 4.817940421767353
           1       0.11      0.28      0.16 0.023006342724743344

    accuracy                           0.99 4.840946764492096
   macro avg       0.56      0.64      0.58 4.840946764492096
weighted avg       0.99      0.99      0.99 4.840946764492096


Classifier with best test set f1: XGB

Saved XGB grid search pipeline to file: ./models2/PUBLIC_best_gs_pipeline.pkl

--------------------OVA: RESIDENTIAL vs All------------------
Performing model optimizations...

Estimator: Random Forest
Best params: {'clf__n_estimators': 100, 'clf__min_samples_split': 8, 'clf__min_samples_leaf': 1, 'clf__max_depth': 7, 'clf__criterion': 'entropy'}
Best training f1: 0.949
Test set metrics for best params:
Normal clasification:
              precision    recall  f1-score   support

          -1       1.00      0.12      0.22     18026
           1       0.14      1.00      0.25      2620

    accuracy                           0.24     20646
   macro avg       0.57      0.56      0.24     20646
weighted avg       0.89      0.24      0.23     20646

Weighted clasification:
              precision    recall  f1-score   support

          -1       0.95      0.12      0.22 0.08675106488177468
           1       0.90      1.00      0.95 0.7164835716458504

    accuracy                           0.90 0.8032346365276251
   macro avg       0.93      0.56      0.59 0.8032346365276251
weighted avg       0.91      0.90      0.87 0.8032346365276251


Estimator: Random Forest w/ENN
Best params: {'clf__n_estimators': 900, 'clf__min_samples_split': 8, 'clf__min_samples_leaf': 5, 'clf__max_depth': 7, 'clf__criterion': 'gini'}
Best training f1: 0.949
Test set metrics for best params:
Normal clasification:
              precision    recall  f1-score   support

          -1       1.00      0.16      0.28     18026
           1       0.15      1.00      0.26      2620

    accuracy                           0.27     20646
   macro avg       0.57      0.58      0.27     20646
weighted avg       0.89      0.27      0.28     20646

Weighted clasification:
              precision    recall  f1-score   support

          -1       0.87      0.16      0.28 0.08675106488177468
           1       0.91      1.00      0.95 0.7164835716458504

    accuracy                           0.91 0.8032346365276251
   macro avg       0.89      0.58      0.61 0.8032346365276251
weighted avg       0.90      0.91      0.88 0.8032346365276251


Estimator: KNN
Best params: {'clf__weights': 'distance', 'clf__n_neighbors': 1, 'clf__metric': 'minkowski'}
Best training f1: 0.738
Test set metrics for best params:
Normal clasification:
              precision    recall  f1-score   support

          -1       0.94      0.95      0.95     18026
           1       0.65      0.59      0.62      2620

    accuracy                           0.91     20646
   macro avg       0.80      0.77      0.78     20646
weighted avg       0.90      0.91      0.91     20646

Weighted clasification:
              precision    recall  f1-score   support

          -1       0.22      0.95      0.36 0.08675106488177468
           1       0.99      0.59      0.74 0.7164835716458504

    accuracy                           0.63 0.8032346365276251
   macro avg       0.61      0.77      0.55 0.8032346365276251
weighted avg       0.91      0.63      0.70 0.8032346365276251


Estimator: KNN w/ENN
Best params: {'clf__weights': 'uniform', 'clf__n_neighbors': 1, 'clf__metric': 'minkowski'}
Best training f1: 0.815
Test set metrics for best params:
Normal clasification:
              precision    recall  f1-score   support

          -1       0.95      0.91      0.93     18026
           1       0.54      0.69      0.61      2620

    accuracy                           0.89     20646
   macro avg       0.75      0.80      0.77     20646
weighted avg       0.90      0.89      0.89     20646

Weighted clasification:
              precision    recall  f1-score   support

          -1       0.26      0.91      0.41 0.08675106488177468
           1       0.99      0.69      0.81 0.7164835716458504

    accuracy                           0.72 0.8032346365276251
   macro avg       0.62      0.80      0.61 0.8032346365276251
weighted avg       0.91      0.72      0.77 0.8032346365276251


Estimator: XGB
Best params: {'clf__n_estimators': 900, 'clf__max_depth': 18, 'clf__learning_rate': 0.5}
Best training f1: 0.750
Test set metrics for best params:
Normal clasification:
              precision    recall  f1-score   support

          -1       0.94      0.98      0.96     18026
           1       0.81      0.60      0.69      2620

    accuracy                           0.93     20646
   macro avg       0.88      0.79      0.83     20646
weighted avg       0.93      0.93      0.93     20646

Weighted clasification:
              precision    recall  f1-score   support

          -1       0.23      0.98      0.37 0.08675106488177468
           1       1.00      0.60      0.75 0.7164835716458504

    accuracy                           0.65 0.8032346365276251
   macro avg       0.61      0.79      0.56 0.8032346365276251
weighted avg       0.91      0.65      0.71 0.8032346365276251


Estimator: XGB w/ENN
Best params: {'clf__n_estimators': 900, 'clf__max_depth': 8, 'clf__learning_rate': 0.5}
Best training f1: 0.823
Test set metrics for best params:
Normal clasification:
              precision    recall  f1-score   support

          -1       0.96      0.95      0.95     18026
           1       0.67      0.70      0.69      2620

    accuracy                           0.92     20646
   macro avg       0.82      0.83      0.82     20646
weighted avg       0.92      0.92      0.92     20646

Weighted clasification:
              precision    recall  f1-score   support

          -1       0.28      0.95      0.43 0.08675106488177468
           1       0.99      0.70      0.82 0.7164835716458504

    accuracy                           0.73 0.8032346365276251
   macro avg       0.63      0.83      0.63 0.8032346365276251
weighted avg       0.91      0.73      0.78 0.8032346365276251


Classifier with best test set f1: Random Forest w/ENN

Saved Random Forest w/ENN grid search pipeline to file: ./models2/RESIDENTIAL_best_gs_pipeline.pkl

--------------------OVA: RETAIL vs All------------------
Performing model optimizations...

Estimator: Random Forest
Best params: {'clf__n_estimators': 900, 'clf__min_samples_split': 2, 'clf__min_samples_leaf': 1, 'clf__max_depth': None, 'clf__criterion': 'entropy'}
Best training f1: 0.193
Test set metrics for best params:
Normal clasification:
              precision    recall  f1-score   support

          -1       0.98      1.00      0.99     20231
           1       0.88      0.13      0.22       415

    accuracy                           0.98     20646
   macro avg       0.93      0.56      0.61     20646
weighted avg       0.98      0.98      0.98     20646

Weighted clasification:
              precision    recall  f1-score   support

          -1       1.00      1.00      1.00 4.767485084015611
           1       0.57      0.13      0.21 0.017690244850727403

    accuracy                           1.00 4.785175328866338
   macro avg       0.79      0.56      0.60 4.785175328866338
weighted avg       1.00      1.00      1.00 4.785175328866338


Estimator: Random Forest w/ENN
Best params: {'clf__n_estimators': 400, 'clf__min_samples_split': 5, 'clf__min_samples_leaf': 1, 'clf__max_depth': None, 'clf__criterion': 'entropy'}
Best training f1: 0.187
Test set metrics for best params:
Normal clasification:
              precision    recall  f1-score   support

          -1       0.98      1.00      0.99     20231
           1       0.77      0.13      0.23       415

    accuracy                           0.98     20646
   macro avg       0.88      0.57      0.61     20646
weighted avg       0.98      0.98      0.98     20646

Weighted clasification:
              precision    recall  f1-score   support

          -1       1.00      1.00      1.00 4.767485084015611
           1       0.38      0.13      0.20 0.017690244850727403

    accuracy                           1.00 4.785175328866338
   macro avg       0.69      0.57      0.60 4.785175328866338
weighted avg       0.99      1.00      1.00 4.785175328866338


Estimator: KNN
Best params: {'clf__weights': 'distance', 'clf__n_neighbors': 7, 'clf__metric': 'manhattan'}
Best training f1: 0.197
Test set metrics for best params:
Normal clasification:
              precision    recall  f1-score   support

          -1       0.98      1.00      0.99     20231
           1       0.74      0.15      0.25       415

    accuracy                           0.98     20646
   macro avg       0.86      0.57      0.62     20646
weighted avg       0.98      0.98      0.98     20646

Weighted clasification:
              precision    recall  f1-score   support

          -1       1.00      1.00      1.00 4.767485084015611
           1       0.34      0.15      0.21 0.017690244850727403

    accuracy                           1.00 4.785175328866338
   macro avg       0.67      0.57      0.60 4.785175328866338
weighted avg       0.99      1.00      0.99 4.785175328866338


Estimator: KNN w/ENN
Best params: {'clf__weights': 'distance', 'clf__n_neighbors': 13, 'clf__metric': 'manhattan'}
Best training f1: 0.191
Test set metrics for best params:
Normal clasification:
              precision    recall  f1-score   support

          -1       0.98      1.00      0.99     20231
           1       0.70      0.14      0.23       415

    accuracy                           0.98     20646
   macro avg       0.84      0.57      0.61     20646
weighted avg       0.98      0.98      0.98     20646

Weighted clasification:
              precision    recall  f1-score   support

          -1       1.00      1.00      1.00 4.767485084015611
           1       0.29      0.14      0.19 0.017690244850727403

    accuracy                           1.00 4.785175328866338
   macro avg       0.64      0.57      0.59 4.785175328866338
weighted avg       0.99      1.00      0.99 4.785175328866338


Estimator: XGB
Best params: {'clf__n_estimators': 900, 'clf__max_depth': 12, 'clf__learning_rate': 0.1}
Best training f1: 0.206
Test set metrics for best params:
Normal clasification:
              precision    recall  f1-score   support

          -1       0.98      1.00      0.99     20231
           1       0.82      0.13      0.22       415

    accuracy                           0.98     20646
   macro avg       0.90      0.56      0.61     20646
weighted avg       0.98      0.98      0.98     20646

Weighted clasification:
              precision    recall  f1-score   support

          -1       1.00      1.00      1.00 4.767485084015611
           1       0.45      0.13      0.20 0.017690244850727403

    accuracy                           1.00 4.785175328866338
   macro avg       0.72      0.56      0.60 4.785175328866338
weighted avg       0.99      1.00      1.00 4.785175328866338


Estimator: XGB w/ENN
Best params: {'clf__n_estimators': 400, 'clf__max_depth': 18, 'clf__learning_rate': 0.15}
Best training f1: 0.196
Test set metrics for best params:
Normal clasification:
              precision    recall  f1-score   support

          -1       0.98      1.00      0.99     20231
           1       0.53      0.17      0.25       415

    accuracy                           0.98     20646
   macro avg       0.75      0.58      0.62     20646
weighted avg       0.97      0.98      0.98     20646

Weighted clasification:
              precision    recall  f1-score   support

          -1       1.00      1.00      1.00 4.767485084015611
           1       0.17      0.17      0.17 0.017690244850727403

    accuracy                           0.99 4.785175328866338
   macro avg       0.58      0.58      0.58 4.785175328866338
weighted avg       0.99      0.99      0.99 4.785175328866338


Classifier with best test set f1: KNN

Saved KNN grid search pipeline to file: ./models2/RETAIL_best_gs_pipeline.pkl
